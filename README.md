# ComicsApp Documentation
## Запуск контейнера сервера
```
cd ComicsAppServer/
docker-compose up --build -d
```

## DataBase
### Table *files*
Записи с 0 до 20 включительно зарезирвированы для картинок по умолчанию


## API 
#### Получение информации о файле
**URL**: `/api/v1/file/info?{file_id}`  
**Method**: `GET`  
**Description**: Получение информации о файле

**Parameters**
| Название | type | Description |
|----------|------|-------------|
| file_id  | int  | ID файла    |

**Request Example**
```
http://127.0.0.1:5000/api/v1/file/info?file_id=5
```

**Response Example**
Описание возвращаемых элементов в book_list
 - added_by - индификатор пользователя, который добавил файл
 - file_id - индификатор файла
 - file_name - название файла
 - file_type - тип файла MIME
 - upload_date - дата добавления файла

```
{
  "added_by": 1,
  "file_id": 5,
  "file_name": "file_not_found.jpg",
  "file_type": "image/jpeg",
  "upload_date": "09:48:16 29-12-2024"
}
```

#### Получение файла
**URL**: `/api/v1/file/get?{file_id}`  
**Method**: `GET`  
**Description**: Получение файла по его индификатору

**Parameters**
| Название | type | Description |
|----------|------|-------------|
| file_id  | int  | ID файла    |

**Request Example**
```
http://127.0.0.1:5000/api/v1/file/get?file_id=5
```

**Response Example**
```
Возвращает запрашиваемый файл
```

#### Получение книги по индификатору
**URL**: `/api/v1/catalog/book?{book_id}`  
**Method**: `GET`  
**Description**: Получение книги по её индификатору

**Parameters**
| Название | type | Description |
|----------|------|-------------|
| book_id  | int  | ID книги    |

**Request Example**
```
http://127.0.0.1:5000/api/v1/catalog/book?book_id=2
```

**Response Example**
Описание возвращаемых данных
 - book_id - индификатор книги
 - book_title - название книги
 - book_author - автор книги
 - book_date_of_publication - дата публикации книги
 - book_rating - рейтинг книги
 - book_genres - список жанров ( массив строк )
 - book_description - описание книги
 - book_isbn - ISBN книги
 - book_added_at - время добавление книги в базу данных

```
{
    'book_id': 2,
    'book_added_by': 1,
    'book_title': 'Ван пис',
    'book_title_image': 21,
    'book_author': 'Eiichiro Oda',
    'book_date_of_publication': '1997',
    'book_rating': 9,
    'book_description': 'Голд Роджер – король пиратов, добившийся за свою жизнь богатства, славы и власти, спрятал где-то на просторах этого мира загадочное сокровище, которое все называют «One Piece». После смерти Роджера множество смельчаков кинулись на поиски этого большого куша. И наступила великая эпоха пиратов!\nВот и паренёк по имени Луффи, живущий в маленькой прибрежной деревушке, мечтает стать пиратом. Ещё в детстве он ненароком съел плод резина-резина и приобрёл невероятные способности. Повзрослев, он покидает родные места в погоне за величайшим сокровищем!',
    'book_isbn': '978-5-389-16318-8',
    'book_added_at': '09:54:20 29-12-2024',
    'book_genres': [
        'Боевик',
        'Боевые искусства',
        'Драма',
        'Комедия',
        'Приключения',
        'Самурайский боевик',
        'Сверхъественное',
        'Сёнэн',
        'Фэнтези'
        ]
}
```


#### Получение списка книг
**URL**: `/api/v1/catalog/books?{limit}{offset}`  
**Method**: `GET`  
**Description**: Получение списка книг

**Parameters**
| Название | Обязателный | type | Description               |
|----------|-------------|------|---------------------------|
| limit    | Нет         | int  | Лимит книг в запросе      |
| offset   | Нет         | int  | Смещение в списке книг    |

**Request Example**
```
http://127.0.0.1:5000/api/v1/catalog/books?limit=2&offset=0
```

**Response Example**
Описание ответа:
 - book_list - список книг
 - page - номер страницы, начиная с 0
 - count - количество книг на странице

Описание возвращаемых элементов в book_list
 - book_id - индификатор книги
 - book_title - название книги
 - book_author - автор книги
 - book_date_of_publication - дата публикации книги
 - book_rating - рейтинг книги
 - book_genres - список жанров ( массив строк )
 - book_description - описание книги
 - book_isbn - ISBN книги
 - book_added_at - время добавление книги в базу данных


```
{
    'book_list': 
        [
            {
                'book_id': 2,
                'book_title': 'Ван пис',
                'book_author': 'Eiichiro Oda',
                'book_date_of_publication': '1997',
                'book_rating': 9,
                'book_genres': 
                    [
                        'Боевик',
                        'Боевые искусства',
                        'Драма',
                        'Комедия',
                        'Приключения',
                        'Самурайский боевик',
                        'Сверхъественное',
                        'Сёнэн',
                        'Фэнтези'
                    ],
                'book_description': 'Голд Роджер – король пиратов, добившийся за свою жизнь богатства, славы и власти, спрятал где-то на просторах этого мира загадочное сокровище, которое все называют «One Piece». После смерти Роджера множество смельчаков кинулись на поиски этого большого куша. И наступила великая эпоха пиратов!\nВот и паренёк по имени Луффи, живущий в маленькой прибрежной деревушке, мечтает стать пиратом. Ещё в детстве он ненароком съел плод резина-резина и приобрёл невероятные способности. Повзрослев, он покидает родные места в погоне за величайшим сокровищем!',
                'book_isbn': '978-5-389-16318-8',
                'book_added_at': '09:54:20 29-12-2024'
            },
            {
                'book_id': 3,
                'book_title': 'Ванпанчмен',
                'book_author': 'Murata Yuusuke',
                'book_date_of_publication': '2012',
                'book_rating': 5,
                'book_genres': [],
                'book_description': 'Манга повествует о молодом человеке по имени Сайтама. Он — герой, обычный герой. Основная его проблема в том, что он вышибает дух из злодеев одним ударом. А это — очень скучно…', 'book_isbn': '978-5-389-14111-7',
                'book_added_at': '13:02:14 30-12-2024'
            }
        ],
        'page': 0,
        'count': 2
    
}
```

